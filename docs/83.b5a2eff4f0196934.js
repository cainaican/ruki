"use strict";(self.webpackChunkruki=self.webpackChunkruki||[]).push([[83],{3083:(W,u,o)=>{o.r(u),o.d(u,{ListModule:()=>S});var p=o(6814),c=o(8589),t=o(5849),g=o(3584),_=o(5219),T=o(6927),d=o(4237),v=o(707),x=o(4227),f=o(2795),h=o(3530),b=o(4532);function w(i,a){1&i&&t._UZ(0,"img",25),2&i&&t.Q6J("src",a.$implicit.itemImageSrc,t.LSH)}const C=()=>({"max-width":"640px"});function Z(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"p-galleria",23),t.NdJ("valueChange",function(s){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.images=s)}),t.YNc(2,w,1,1,"ng-template",24),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("value",e.images)("responsiveOptions",n.responsiveOptions)("containerStyle",t.DdM(6,C))("numVisible",5)("showItemNavigators",!0)("showThumbnails",!1)}}function k(i,a){1&i&&t._UZ(0,"p-skeleton",26)}const A=i=>({"border-top-1 surface-border":i});function L(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div",9),t.YNc(3,Z,3,7,"ng-container",10)(4,k,1,0,"ng-template",null,11,t.W1O),t.qZA(),t.TgZ(6,"div",12),t.NdJ("click",function(s){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.openCard(s,r))}),t.TgZ(7,"div",13)(8,"div")(9,"span",14),t._uU(10),t.qZA(),t.TgZ(11,"div",15),t._uU(12),t.qZA()(),t.TgZ(13,"div",16)(14,"div",17)(15,"span",18),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",19)(18,"span",20),t._uU(19),t.qZA(),t.TgZ(20,"div",21)(21,"p-button",22),t.NdJ("click",function(s){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.getPhoneNumber(s,r))}),t.qZA()()()()()()}if(2&i){const e=a.$implicit,n=a.first,s=t.MAs(5);t.xp6(1),t.Q6J("ngClass",t.VKq(7,A,!n)),t.xp6(2),t.Q6J("ngIf",e.images)("ngIfElse",s),t.xp6(7),t.Oqu(e.contact),t.xp6(2),t.Oqu(e.description),t.xp6(4),t.Oqu(e.address),t.xp6(3),t.Oqu("\u20bd"+e.price)}}function y(i,a){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,L,22,9,"div",6),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function J(i,a){1&i&&t._UZ(0,"img",25),2&i&&t.Q6J("src",a.$implicit.itemImageSrc,t.LSH)}function N(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"p-galleria",23),t.NdJ("valueChange",function(s){t.CHM(e);const l=t.oxw(2);return t.KtG(l.visibleWork.images=s)}),t.YNc(1,J,1,1,"ng-template",24),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("value",e.visibleWork.images)("responsiveOptions",e.responsiveOptions)("containerStyle",t.DdM(6,C))("numVisible",5)("showItemNavigators",!0)("showThumbnails",!1)}}function O(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31)(1,"p-button",32),t.NdJ("click",function(s){t.CHM(e);const l=t.oxw(2);return t.KtG(l.getPhoneNumber(s,l.visibleWork))}),t.qZA()()}}const F=()=>({width:"35rem"});function E(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"p-dialog",27),t.NdJ("visibleChange",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.visible=s)})("onHide",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onHide())}),t.TgZ(1,"p-card",28),t.YNc(2,N,2,7,"ng-template",29),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.YNc(5,O,2,0,"ng-template",30),t.qZA()()}if(2&i){const e=t.oxw();t.Akn(t.DdM(7,F)),t.Q6J("modal",!0)("visible",e.visible),t.xp6(1),t.Q6J("header",e.visibleWork.contact)("subheader",e.visibleWork.address),t.xp6(3),t.hij(" ",e.visibleWork.description," ")}}let H=(()=>{class i{constructor(e,n,s,l,r){this._worksService=e,this._messageService=n,this._cdr=s,this._auth=l,this._router=r,this.works=[],this.subs=[],this.responsiveOptions=[{breakpoint:"1024px",numVisible:5},{breakpoint:"768px",numVisible:3},{breakpoint:"560px",numVisible:1}],this.visible=!1,this.visibleWork=null}ngOnInit(){const e=this._worksService.getAllWorks().subscribe({next:n=>{this.works=n,this._cdr.markForCheck()},error:n=>{this._messageService.add({detail:n.message,severity:"error"})}});this.subs.push(e)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe)}getPhoneNumber(e,n){e.stopPropagation(),this?._auth?.currentUser?alert(`\n      \u0418\u043c\u044f: ${n.contact}\n      \u0422\u0435\u043b\u0435\u0444\u043e\u043d: ${n.phone}\n    `):this._router.navigateByUrl("auth/login")}openCard(e,n){this.visible=!0,this.visibleWork=n}onHide(){this.visibleWork=null}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(g.h),t.Y36(_.ez),t.Y36(t.sBO),t.Y36(T.gx),t.Y36(c.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-list"]],decls:5,vars:4,consts:[[1,"card"],[3,"value","rows","paginator"],["dv",""],["pTemplate","list"],[3,"ngIf"],[1,"grid","grid-nogutter"],["class","col-12","class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"flex","flex-column","sm:flex-row","sm:align-items-center","p-4","gap-3",3,"ngClass"],[1,"md:w-10rem","relative"],[4,"ngIf","ngIfElse"],["skeletonImg",""],[1,"flex","flex-column","md:flex-row","justify-content-between","md:align-items-center","flex-1","gap-4",3,"click"],[1,"flex","flex-column","justify-content-between","align-items-center","md:align-items-start","gap-2","md:gap-4",2,"padding-left","20px"],[1,"font-medium","text-secondary","text-sm"],[1,"text-lg","font-medium","text-900","mt-2"],[1,"surface-100","p-1",2,"border-radius","30px"],[1,"surface-0","flex","align-items-center","gap-2","justify-content-center","py-1","px-2",2,"border-radius","30px","box-shadow","0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 1px 2px 0px rgba(0, 0, 0, 0.06)"],[1,"text-900","font-medium","text-sm"],[1,"flex","md:flex-column","justify-content-between","align-items-center","md:align-items-end","gap-5"],[1,"text-xl","font-semibold","text-900"],[1,"flex","flex-row-reverse","md:flex-row","gap-2"],["icon","pi pi-phone","label","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442",1,"flex-auto","md:flex-initial","white-space-nowrap",3,"click"],[3,"value","responsiveOptions","containerStyle","numVisible","showItemNavigators","showThumbnails","valueChange"],["pTemplate","item"],[2,"width","100%",3,"src"],["width","10rem","height","6rem"],["header","\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u043e\u0434\u0440\u0430\u0431\u043e\u0442\u043a\u0438",3,"modal","visible","visibleChange","onHide"],[3,"header","subheader"],["pTemplate","header"],["pTemplate","footer"],[1,"flex","gap-3","mt-1"],["label","\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","styleClass","w-full",1,"w-full",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"p-dataView",1,2),t.YNc(3,y,2,1,"ng-template",3),t.qZA()(),t.YNc(4,E,6,8,"ng-template",4)),2&n&&(t.xp6(1),t.Q6J("value",s.works)("rows",10)("paginator",!0),t.xp6(3),t.Q6J("ngIf",s.visibleWork))},dependencies:[p.mk,p.sg,p.O5,d.VO,_.jx,v.zx,x.O,f.dz,h.V,b.Z],changeDetection:0})}return i})(),I=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild([{path:"",component:H}]),c.Bz]})}return i})();var M=o(6263);let S=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[g.h],imports:[p.ez,I,d.FI,v.hJ,M.W,x.m,f.kT,h.S,b.d]})}return i})()}}]);